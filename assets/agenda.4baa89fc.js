var M=Object.defineProperty;var D=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var b=(s,o,r)=>o in s?M(s,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[o]=r,B=(s,o)=>{for(var r in o||(o={}))O.call(o,r)&&b(s,r,o[r]);if(D)for(var r of D(o))R.call(o,r)&&b(s,r,o[r]);return s};import{_ as V}from"./GeneralHead.5abaa0cb.js";import{_ as C,y as U,o as t,a,b as n,F as h,z as u,A as S,t as c,c as m,w as v,e as l,n as I,B as x,f as w,h as y,p as j,g as q,v as J,C as K}from"./app.aaa4f4e9.js";import{_ as A}from"./Markdown.bcdfe429.js";const E={name:"AgendaTable",data(){return{sessionData:U}},computed:{rooms(){return["R2","R0","R1","R3","S"]},times(){return[...new Set([...this.sessionData.sessions.map(({start:s})=>s),...this.sessionData.sessions.map(({end:s})=>s)])].map(s=>new Date(s)).sort()},startTimes(){return[...new Set([...this.sessionData.sessions.map(({start:s})=>s)])].map(s=>new Date(s)).sort()},gridTemplateColumns(){return this.rooms.map(s=>`[\u{1F95E}${s}]`)},gridTemplateRows(){let s=this.times.map(o=>this.parseTime(o)).sort().map(o=>`[\u{1F95E}${o}]`);return["[roomname]","[decoration-line-start]",...s,"[\u{1F95E}end]"]},activeSession(){var s,o;if(this.$route.meta.id){let r=this.sessionData.sessions.find(_=>_.id===this.$route.meta.id);r=JSON.parse(JSON.stringify(r)),r.type=(o=(s=this.sessionData.session_types.filter(_=>_.id===r.type)[0])==null?void 0:s.zh)==null?void 0:o.name;let p=r.zh.description.split(/## 先備知識\n/),g=p[0],e="";return p.length>1&&(e=p[1]),r.zh.description=g,r.priorKnowledge=e,r.speakers=r.speakers.map(_=>this.sessionData.speakers.filter(k=>k.id===_)[0]).map(_=>JSON.parse(JSON.stringify(_))),r}},sessionModal:{get(){return!!this.activeSession},set(s){s||this.$router.push("/agenda/")}}},watch:{"$route.meta.id":function(s){this.sessionModal=!!s}},methods:{getTypeById(s){return["Ev"].includes(s)?null:this.sessionData.session_types.filter(r=>r.id===s)[0]},getTagById(s){return this.sessionData.tags.filter(o=>o.id===s)[0]},parseTime(s){return new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\:/g,"")},parseSessionStyle(s){let o="\u{1F95E}"+this.parseTime(s.start),r="\u{1F95E}"+this.parseTime(s.end);if(s.broadcast){let p=Math.min(...s.broadcast.map(e=>this.rooms.indexOf(e))),g=Math.max(...s.broadcast.map(e=>this.rooms.indexOf(e)));return p=this.rooms[p]||"time",g=this.rooms[g+1]||"end",{"grid-column-start":`\u{1F95E}${p}`,"grid-column-end":`\u{1F95E}${g}`,"grid-row":`${o} / ${r}`}}else return{"grid-column-start":`\u{1F95E}${s.room}`,"grid-row":`${o} / ${r}`}}}},T=s=>(j("data-v-1822eb2e"),s=s(),q(),s),F={class:"time-item-content"},G=T(()=>n("div",{class:"decoration-line"},null,-1)),H=[G],X=T(()=>n("div",{class:"decoration-end-arrow"},null,-1)),P=[X],Q={class:"session-title"},W={key:0,class:"speakers"},Y={class:"tags"},Z=["data-type"],$={class:"agenda-mobile-list"},ee={class:"time-item"},se={class:"session-title"},te={key:0,class:"speakers"},ae={class:"footer"},ie={class:"tags"},ne=["data-type"],re={class:"room"},oe={key:0,class:"agenda-dialog"},de={class:"agenda-dialog-header"},ce={class:"agenda-info"},le={class:"agenda-title"},_e={class:"agenda-info"},he={class:"agenda-dialog-content"},ue={class:"links mobile"},ge=y("\u5373\u6642\u63D0\u554F"),me=y("\u7C21\u5831\u9023\u7D50"),ve=y("\u5171\u7B46\u9023\u7D50"),pe=["href"],fe=["src"],ye={class:"agenda-dialog-content-description"},Se={key:0,class:"tags"},ke=T(()=>n("span",{class:"tags-title"},"Tags",-1)),we=y(": "),Te={class:"tags-content"},ze={class:"description"},De={class:"agenda-dialog-content-info"},be=T(()=>n("div",{class:"section-title"},"\u5148\u5099\u77E5\u8B58",-1)),Be={class:"section-content"},Ie={class:"links"},xe=y("\u5373\u6642\u63D0\u554F"),Ce=y("\u7C21\u5831\u9023\u7D50"),Ne=y("\u5171\u7B46\u9023\u7D50"),Le=["href"],Me=["src"],Oe={class:"agenda-speaker"},Re={class:"content"},Ve={class:"agenda-speaker-name"},Ue={class:"agenda-speaker-bio"},je=["src"];function qe(s,o,r,p,g,e){const _=J,k=A,N=K,z=V;return t(),a("div",null,[n("div",{class:"agenda-teble",style:S({gridTemplateColumns:["[\u{1F95E}time]","auto",e.gridTemplateColumns.join(" 1fr ")+"1fr","[\u{1F95E}end]"].join(" "),gridTemplateRows:e.gridTemplateRows.join(" auto ")})},[(t(!0),a(h,null,u(e.times,i=>(t(),a("div",{class:"time-item",style:S({"grid-column-start":"\u{1F95E}time","grid-row-start":`\u{1F95E}${e.parseTime(i)}`})},[n("div",F,c(i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),1)],4))),256)),(t(!0),a(h,null,u(e.rooms,i=>(t(),a("div",{class:"decoration-container",style:S({"grid-column-start":`\u{1F95E}${i}`,"grid-row-start":"decoration-line-start","grid-row-end":"\u{1F95E}end"})},H,4))),256)),(t(!0),a(h,null,u(e.rooms,i=>(t(),a("div",{class:"decoration-end",style:S({"grid-column-start":`\u{1F95E}${i}`,"grid-row-start":"\u{1F95E}end"})},P,4))),256)),(t(!0),a(h,null,u(e.rooms,i=>(t(),a("div",{class:"room-name",style:S({"grid-column-start":`\u{1F95E}${i}`,"grid-row-start":"roomname"})},c(i),5))),256)),(t(!0),a(h,null,u(g.sessionData.sessions,i=>(t(),m(x(i.zh.description?"router-link":"div"),{to:`/agenda/${i.id}`,class:I(["session-item",{hoverable:i.zh.description}]),style:S(B({},e.parseSessionStyle(i)))},{default:v(()=>[n("div",Q,c(i.zh.title),1),i.speakers.length>0?(t(),a("div",W,[(t(!0),a(h,null,u(i.speakers,d=>(t(),a("span",{key:d.id},c(g.sessionData.speakers.filter(f=>f.id==d)[0].zh.name),1))),128))])):l("",!0),n("div",Y,[e.getTypeById(i.type)?(t(),a("span",{key:0,"data-type":i.type}," #"+c(e.getTypeById(i.type).zh.name),9,Z)):l("",!0),(t(!0),a(h,null,u(i.tags,d=>(t(),a("span",{key:d}," #"+c(e.getTagById(d).zh.name),1))),128))])]),_:2},1032,["to","style","class"]))),256))],4),n("div",$,[(t(!0),a(h,null,u(e.startTimes,i=>(t(),a(h,null,[n("div",ee,c(i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),1),(t(!0),a(h,null,u(g.sessionData.sessions.filter(d=>new Date(d.start).toString()==i),d=>(t(),m(x(d.zh.description?"router-link":"div"),{to:`/agenda/${d.id}`,class:I(["session-item",{hoverable:d.zh.description}])},{default:v(()=>[n("div",se,c(d.zh.title),1),d.speakers.length>0?(t(),a("div",te,[(t(!0),a(h,null,u(d.speakers,f=>(t(),a("span",{key:f.id},c(g.sessionData.speakers.filter(L=>L.id==f)[0].zh.name),1))),128))])):l("",!0),n("div",ae,[n("div",ie,[e.getTypeById(d.type)?(t(),a("span",{key:0,"data-type":d.type}," #"+c(e.getTypeById(d.type).zh.name),9,ne)):l("",!0),(t(!0),a(h,null,u(d.tags,f=>(t(),a("span",{key:f}," #"+c(e.getTagById(f).zh.name),1))),128))]),n("div",re,c(d.room)+" / "+c(Math.floor((new Date(d.end)-new Date(d.start))/1e3/60))+"mins ",1)])]),_:2},1032,["to","class"]))),256))],64))),256))]),w(N,{modelValue:e.sessionModal,"onUpdate:modelValue":o[0]||(o[0]=i=>e.sessionModal=i)},{default:v(()=>[e.activeSession?(t(),a("div",oe,[n("div",de,[n("div",ce,c(e.activeSession.type),1),n("div",le,c(e.activeSession.zh.title),1),n("div",_e,c(e.activeSession.room)+" \u2022 "+c(new Date(e.activeSession.start).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}))+" ~"+c(new Date(e.activeSession.end).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})),1)]),n("div",he,[n("div",ue,[e.activeSession.qa?(t(),m(_,{key:0,href:e.activeSession.qa},{default:v(()=>[ge]),_:1},8,["href"])):l("",!0),e.activeSession.slide?(t(),m(_,{key:1,href:e.activeSession.slide},{default:v(()=>[me]),_:1},8,["href"])):l("",!0),e.activeSession.co_write?(t(),m(_,{key:2,href:e.activeSession.co_write},{default:v(()=>[ve]),_:1},8,["href"])):l("",!0)]),e.activeSession.record?(t(),a("a",{key:0,class:"record-cover mobile",href:e.activeSession.record,target:"_blank"},[n("img",{src:`https://sitcon.org/2022/imgs/sessions/${e.activeSession.id}.png`},null,8,fe)],8,pe)):l("",!0),n("div",ye,[e.activeSession.tags.length>0?(t(),a("div",Se,[ke,we,n("span",Te,c(e.activeSession.tags.map(i=>e.getTagById(i).zh.name).join(", ")),1)])):l("",!0),n("div",ze,[w(k,{content:e.activeSession.zh.description},null,8,["content"])])]),n("div",De,[e.activeSession.priorKnowledge.length?(t(),a(h,{key:0},[be,n("div",Be,[w(k,{content:e.activeSession.priorKnowledge},null,8,["content"])])],64)):l("",!0),n("div",Ie,[e.activeSession.qa?(t(),m(_,{key:0,href:e.activeSession.qa},{default:v(()=>[xe]),_:1},8,["href"])):l("",!0),e.activeSession.slide?(t(),m(_,{key:1,href:e.activeSession.slide},{default:v(()=>[Ce]),_:1},8,["href"])):l("",!0),e.activeSession.co_write?(t(),m(_,{key:2,href:e.activeSession.co_write},{default:v(()=>[Ne]),_:1},8,["href"])):l("",!0)]),e.activeSession.record?(t(),a("a",{key:1,class:"record-cover",href:e.activeSession.record,target:"_blank"},[n("img",{src:`https://sitcon.org/2022/imgs/sessions/${e.activeSession.id}.png`},null,8,Me)],8,Le)):l("",!0)])]),(t(!0),a(h,null,u(e.activeSession.speakers,i=>(t(),a("div",Oe,[n("div",Re,[n("div",Ve,c(i.zh.name),1),n("div",Ue,[w(k,{content:i.zh.bio},null,8,["content"])])]),n("img",{class:"agenda-speaker-avatar",src:i.avatar},null,8,je)]))),256))])):l("",!0)]),_:1},8,["modelValue"]),e.activeSession?(t(),m(z,{key:0,"page-title":e.activeSession.zh.title,title:e.activeSession.zh.title,description:e.activeSession.zh.description,image:`https://sitcon.org/2022/imgs/sessions/${e.activeSession.id}.png`},null,8,["page-title","title","description","image"])):(t(),m(z,{key:1,"page-title":" \u8B70\u7A0B\u8CC7\u8A0A",title:"\u8B70\u7A0B\u8CC7\u8A0A | SITCON X",description:"\u5927\u6703\u5404\u9805\u4E00\u822C\u8B70\u7A0B\u8207\u958B\u653E\u5F0F\u8B70\u7A0B\u7684\u5730\u9EDE\u3001\u6642\u7A0B\u4E00\u89BD\u8868",image:"https://sitcon.org/2022/imgs/og.jpg"}))])}var Je=C(E,[["render",qe],["__scopeId","data-v-1822eb2e"]]);const Ke={},Ae={class:"container"};function Ee(s,o){const r=Je;return t(),a("div",Ae,[w(r)])}var Pe=C(Ke,[["render",Ee]]);export{Pe as default};
